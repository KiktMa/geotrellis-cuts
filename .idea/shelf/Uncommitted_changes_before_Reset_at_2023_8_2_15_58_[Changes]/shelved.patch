Index: pom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\r\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n    <modelVersion>4.0.0</modelVersion>\r\n\r\n    <groupId>com.spark.demo</groupId>\r\n    <artifactId>spark_demo</artifactId>\r\n    <version>0.1.0-SNAPSHOT</version>\r\n\r\n    <properties>\r\n        <scala.version>2.11.8</scala.version>\r\n    </properties>\r\n\r\n    <pluginRepositories>\r\n        <pluginRepository>\r\n            <id>scala-tools.org</id>\r\n            <name>Scala-Tools Maven2 Repository</name>\r\n            <url>http://scala-tools.org/repo-releases</url>\r\n        </pluginRepository>\r\n    </pluginRepositories>\r\n\r\n    <dependencies>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter</artifactId>\r\n            <version>2.7.5</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.springframework.boot</groupId>\r\n            <artifactId>spring-boot-starter-web</artifactId>\r\n            <version>2.7.5</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.scala-lang</groupId>\r\n            <artifactId>scala-library</artifactId>\r\n            <version>${scala.version}</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>junit</groupId>\r\n            <artifactId>junit</artifactId>\r\n            <version>4.10</version>\r\n            <scope>provided</scope>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.spark</groupId>\r\n            <artifactId>spark-sql_2.11</artifactId>\r\n            <version>2.3.4</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.spark</groupId>\r\n            <artifactId>spark-core_2.11</artifactId>\r\n            <version>2.3.4</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>net.java.dev.jna</groupId>\r\n            <artifactId>jna</artifactId>\r\n            <version>5.3.1</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.postgresql</groupId>\r\n            <artifactId>postgresql</artifactId>\r\n            <version>42.2.6</version>\r\n        </dependency>\r\n\r\n        <!-- 添加依赖 -->\r\n        <dependency>\r\n            <groupId>org.locationtech.geotrellis</groupId>\r\n            <artifactId>geotrellis-spark_2.11</artifactId>\r\n            <version>2.1.0</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.locationtech.geotrellis</groupId>\r\n            <artifactId>geotrellis-raster_2.11</artifactId>\r\n            <version>2.1.0</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.locationtech.geotrellis</groupId>\r\n            <artifactId>geotrellis-cassandra_2.11</artifactId>\r\n            <version>2.0.1</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.locationtech.geotrellis</groupId>\r\n            <artifactId>geotrellis-proj4_2.11</artifactId>\r\n            <version>2.1.0</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.locationtech.geotrellis</groupId>\r\n            <artifactId>geotrellis-util_2.11</artifactId>\r\n            <version>2.1.0</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.locationtech.geotrellis</groupId>\r\n            <artifactId>geotrellis-macros_2.11</artifactId>\r\n            <version>2.1.0</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.locationtech.geotrellis</groupId>\r\n            <artifactId>geotrellis-accumulo_2.11</artifactId>\r\n            <version>2.1.0</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.locationtech.geotrellis</groupId>\r\n            <artifactId>geotrellis-hbase_2.11</artifactId>\r\n            <version>2.1.0</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.locationtech.geotrellis</groupId>\r\n            <artifactId>geotrellis-layer_2.11</artifactId>\r\n            <version>3.0.0</version>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>com.azavea.geotrellis</groupId>\r\n            <artifactId>maml-jvm_2.11</artifactId>\r\n            <version>0.6.0</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.hadoop</groupId>\r\n            <artifactId>hadoop-auth</artifactId>\r\n            <version>2.7.7</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.hadoop</groupId>\r\n            <artifactId>hadoop-client</artifactId>\r\n            <version>2.7.7</version>\r\n        </dependency>\r\n\r\n        <!-- accumulo相关依赖 -->\r\n        <dependency>\r\n            <groupId>org.apache.accumulo</groupId>\r\n            <artifactId>accumulo-core</artifactId>\r\n            <version>1.10.2</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.accumulo</groupId>\r\n            <artifactId>accumulo-fate</artifactId>\r\n            <version>1.10.2</version>\r\n        </dependency>\r\n        <!-- hbase相关依赖 -->\r\n        <dependency>\r\n            <groupId>org.apache.hbase</groupId>\r\n            <artifactId>hbase-client</artifactId>\r\n            <version>2.1.0</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.hbase</groupId>\r\n            <artifactId>hbase</artifactId>\r\n            <version>2.1.0</version>\r\n            <type>pom</type>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>com.typesafe.akka</groupId>\r\n            <artifactId>akka-actor_2.11</artifactId>\r\n            <version>2.4.17</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>com.typesafe.akka</groupId>\r\n            <artifactId>akka-http-core_2.11</artifactId>\r\n            <version>10.0.3</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>com.typesafe.akka</groupId>\r\n            <artifactId>akka-http_2.11</artifactId>\r\n            <version>10.0.3</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>com.typesafe.akka</groupId>\r\n            <artifactId>akka-http-spray-json_2.11</artifactId>\r\n            <version>10.0.3</version>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.gdal</groupId>\r\n            <artifactId>gdal</artifactId>\r\n            <version>3.5.0</version>\r\n        </dependency>\r\n\r\n\r\n        <dependency>\r\n            <groupId>com.alibaba</groupId>\r\n            <artifactId>fastjson</artifactId>\r\n            <version>2.0.22</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.spark</groupId>\r\n            <artifactId>spark-yarn_2.11</artifactId>\r\n            <version>2.3.4</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.spark</groupId>\r\n            <artifactId>spark-launcher_2.11</artifactId>\r\n            <version>2.3.4</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.hadoop</groupId>\r\n            <artifactId>hadoop-common</artifactId>\r\n            <version>2.7.7</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.apache.hadoop</groupId>\r\n            <artifactId>hadoop-hdfs</artifactId>\r\n            <version>2.7.7</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>io.pdal</groupId>\r\n            <artifactId>pdal_2.11</artifactId>\r\n            <version>2.2.0</version>\r\n        </dependency>\r\n\r\n        <!-- https://mvnrepository.com/artifact/org.geotools/gt-main -->\r\n        <dependency>\r\n            <groupId>org.geotools</groupId>\r\n            <artifactId>gt-main</artifactId>\r\n            <version>27.1</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.geotools</groupId>\r\n            <artifactId>gt-epsg-hsql</artifactId>\r\n            <version>27.1</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.geotools</groupId>\r\n            <artifactId>gt-opengis</artifactId>\r\n            <version>27.1</version>\r\n        </dependency>\r\n\r\n        <dependency>\r\n            <groupId>org.geotools</groupId>\r\n            <artifactId>gt-csv</artifactId>\r\n            <version>27.1</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>org.geotools</groupId>\r\n            <artifactId>gt-process-geometry</artifactId>\r\n            <version>27.1</version>\r\n        </dependency>\r\n        <dependency>\r\n            <groupId>com.vividsolutions</groupId>\r\n            <artifactId>jts</artifactId>\r\n            <version>1.13</version>\r\n        </dependency>\r\n\r\n        <!-- MySQL数据库连接 -->\r\n        <dependency>\r\n            <groupId>mysql</groupId>\r\n            <artifactId>mysql-connector-java</artifactId>\r\n            <version>5.1.38</version>\r\n        </dependency>\r\n\r\n    </dependencies>\r\n\r\n    <!-- 添加geotools依赖需要添加它的仓库地址，否则在带入时报错 -->\r\n    <repositories>\r\n        <repository>\r\n            <id>osgeo</id>\r\n            <name>OSGeo Release Repository</name>\r\n            <url>https://repo.osgeo.org/repository/release/</url>\r\n            <snapshots><enabled>false</enabled></snapshots>\r\n            <releases><enabled>true</enabled></releases>\r\n        </repository>\r\n        <repository>\r\n            <id>osgeo-snapshot</id>\r\n            <name>OSGeo Snapshot Repository</name>\r\n            <url>https://repo.osgeo.org/repository/snapshot/</url>\r\n            <snapshots><enabled>true</enabled></snapshots>\r\n            <releases><enabled>false</enabled></releases>\r\n        </repository>\r\n    </repositories>\r\n\r\n    <build>\r\n        <resources>\r\n            <resource>\r\n                <directory>src/main/scala</directory>\r\n                <excludes>\r\n                    <exclude>**/*.scala</exclude>\r\n                </excludes>\r\n            </resource>\r\n        </resources>\r\n\r\n        <sourceDirectory>src/main/scala</sourceDirectory>\r\n        <plugins>\r\n            <plugin>\r\n                <groupId>org.apache.maven.plugins</groupId>\r\n                <artifactId>maven-compiler-plugin</artifactId>\r\n                <version>3.8.0</version>\r\n                <configuration>\r\n                    <source>7</source>\r\n                    <target>7</target>\r\n                </configuration>\r\n                <!-- <configuration>\r\n                     <source>9</source>\r\n                     <target>9</target>\r\n                 </configuration>-->\r\n            </plugin>\r\n            <plugin>\r\n                <groupId>net.alchim31.maven</groupId>\r\n                <artifactId>scala-maven-plugin</artifactId>\r\n                <version>3.4.6</version>\r\n                <executions>\r\n                    <execution>\r\n                        <id>scala-compile-first</id>\r\n                        <phase>process-resources</phase>\r\n                        <goals>\r\n                            <goal>add-source</goal>\r\n                            <goal>compile</goal>\r\n                        </goals>\r\n                    </execution>\r\n                </executions>\r\n                <configuration>\r\n                <scalaVersion>${scala.version}</scalaVersion>   <!-- Scala version is detected from dependency to scala-library -->\r\n                <recompileMode>incremental</recompileMode>\r\n                    <args>\r\n                        <arg>-unchecked</arg>\r\n                        <arg>-deprecation</arg>\r\n                        <arg>-feature</arg>\r\n                    </args>\r\n                    <javacArgs>\r\n                        <javacArg>-Xlint:unchecked</javacArg>\r\n                        <javacArg>-Xlint:deprecation</javacArg>\r\n                    </javacArgs>\r\n                </configuration>\r\n            </plugin>\r\n            <plugin>\r\n                <groupId>org.codehaus.mojo</groupId>\r\n                <artifactId>build-helper-maven-plugin</artifactId>\r\n                <version>3.2.0</version>\r\n                <executions>\r\n                    <execution>\r\n                        <id>add-resource</id>\r\n                        <phase>initialize</phase>\r\n                        <goals>\r\n                            <goal>add-resource</goal>\r\n                        </goals>\r\n                        <configuration>\r\n                            <resources>\r\n                                <resource>\r\n                                    <directory>${basedir}/src/main/resources</directory>\\\r\n                                    <filtering>true</filtering>\r\n                                    <excludes>\r\n                                        <exclude>**/*.java</exclude>\r\n                                    </excludes>\r\n                                </resource>\r\n                            </resources>\r\n                        </configuration>\r\n                    </execution>\r\n                    <execution>\r\n                        <id>add-source</id>\r\n                        <phase>initialize</phase>\r\n                        <goals>\r\n                            <goal>add-source</goal>\r\n                        </goals>\r\n                        <configuration>\r\n                            <sources>\r\n                                <source>${basedir}/src/main/java</source>\r\n                                <source>${basedir}/src/main/scala</source>\r\n                            </sources>\r\n                        </configuration>\r\n                    </execution>\r\n                    <execution>\r\n                        <id>add-test-source</id>\r\n                        <phase>initialize</phase>\r\n                        <goals>\r\n                            <goal>add-test-source</goal>\r\n                        </goals>\r\n                        <configuration>\r\n                            <sources>\r\n                                <source>${basedir}/src/test/java</source>\r\n                            </sources>\r\n                        </configuration>\r\n                    </execution>\r\n                </executions>\r\n            </plugin>\r\n        </plugins>\r\n    </build>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/pom.xml b/pom.xml
--- a/pom.xml	(revision e2c35fbb3ffdc23860bad4a09add3613750baa33)
+++ b/pom.xml	(date 1690963049670)
@@ -286,8 +286,8 @@
                 <artifactId>maven-compiler-plugin</artifactId>
                 <version>3.8.0</version>
                 <configuration>
-                    <source>7</source>
-                    <target>7</target>
+                    <source>8</source>
+                    <target>8</target>
                 </configuration>
                 <!-- <configuration>
                      <source>9</source>
Index: src/main/java/com/geosot/javademo/mysql/ReadPointCloudFromMysql.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.geosot.javademo.mysql;\r\n\r\nimport com.geosot.javademo.units.MySQLConnect;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\n\r\npublic class ReadPointCloudFromMysql {\r\n    public static void main(String[] args) {\r\n        try {\r\n            Connection connection = MySQLConnect.getConnection();\r\n            String query = \"SELECT * FROM las_0 WHERE code >= ? AND code <= ?\";\r\n            PreparedStatement preparedStatement = connection.prepareStatement(query);\r\n            preparedStatement.setString(1, \"0004836404CA6C929B659659\");\r\n            preparedStatement.setString(2, \"0004836404D82594082D8290\");\r\n\r\n            // 执行查询\r\n            long start = System.currentTimeMillis();\r\n            ResultSet resultSet = preparedStatement.executeQuery();\r\n            int count = 0;\r\n//            int batchSize = 1000;\r\n//            // 查询结果\r\n            while (resultSet.next()) {\r\n//                // 打印查询结果\r\n//                double x = resultSet.getDouble(\"x\");\r\n//                double y = resultSet.getDouble(\"y\");\r\n//                double z = resultSet.getDouble(\"z\");\r\n                count++;\r\n//                System.out.println(\"x: \" + x+\", y: \" + y+\", z: \" + z);\r\n\r\n//                if (--batchSize == 0) {\r\n//                    batchSize = 1000;\r\n//                    resultSet = preparedStatement.executeQuery(); // 获取下一批数据\r\n//                }\r\n            }\r\n            System.out.println((System.currentTimeMillis()-start)+\"ms\");\r\n            System.out.println(count);\r\n            // 关闭资源\r\n            resultSet.close();\r\n            preparedStatement.close();\r\n            connection.close();\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/com/geosot/javademo/mysql/ReadPointCloudFromMysql.java b/src/main/java/com/geosot/javademo/mysql/ReadPointCloudFromMysql.java
--- a/src/main/java/com/geosot/javademo/mysql/ReadPointCloudFromMysql.java	(revision e2c35fbb3ffdc23860bad4a09add3613750baa33)
+++ b/src/main/java/com/geosot/javademo/mysql/ReadPointCloudFromMysql.java	(date 1690959322580)
@@ -10,13 +10,27 @@
         try {
             Connection connection = MySQLConnect.getConnection();
             String query = "SELECT * FROM las_0 WHERE code >= ? AND code <= ?";
+            String usePointQuery = "SELECT * FROM las_0\n" +
+                    "WHERE \n" +
+                    "  x BETWEEN ? AND ?\n" +
+                    "  AND y BETWEEN ? AND ?\n" +
+                    "  AND z BETWEEN ? AND ?;";
             PreparedStatement preparedStatement = connection.prepareStatement(query);
-            preparedStatement.setString(1, "0004836404CA6C929B659659");
-            preparedStatement.setString(2, "0004836404D82594082D8290");
+            PreparedStatement preparedStatement1 = connection.prepareStatement(usePointQuery);
+//            preparedStatement.setString(1, "0004836404CA6C929B659659");
+//            preparedStatement.setString(2, "0004836404D82594082D8290");
+
+
+            preparedStatement1.setDouble(1, 399868.88008118);
+            preparedStatement1.setDouble(2, 399867.12608337);
+            preparedStatement1.setDouble(3, 3137961.96269226);
+            preparedStatement1.setDouble(4, 3137949.60769653);
+            preparedStatement1.setDouble(5, 45.4846611);
+            preparedStatement1.setDouble(6, 45.47166061);
 
             // 执行查询
             long start = System.currentTimeMillis();
-            ResultSet resultSet = preparedStatement.executeQuery();
+            ResultSet resultSet = preparedStatement1.executeQuery();
             int count = 0;
 //            int batchSize = 1000;
 //            // 查询结果
